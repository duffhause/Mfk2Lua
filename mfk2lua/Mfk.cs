using System;
using System.Collections.Generic;
using System.Text;
using System.Text.RegularExpressions;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;

namespace mfk2lua
{
    class Mfk
    {
        public static string GetFile(string filename)
        {
            System.IO.StreamReader file = new System.IO.StreamReader(filename);
            return file.ReadToEnd();
        }

        public static string ConvertCommands(string file)
        {
            string[] commands = GetCommands();

            foreach (string c in commands)
            {
                file = Regex.Replace(file, string.Format(@"([^\s*-]?{0})", Encoding.UTF8.GetString(Convert.FromBase64String(c))), "Game.${0}");
            }

            file = Regex.Replace(file, "//", "--");
            file = Regex.Replace(file, @"\\", @"\\");
            file = Regex.Replace(file, @"\);", ")");
            return file;
        }

        public static string[] GetCommands()
        {
            List<string> commandsList = new List<string>();

            foreach (string line in commands.Split("\r\n"))
            {
                commandsList.Add(line);
            }
            return commandsList.ToArray();

        }


        static string commands = @"U2V0TWFzcw==
U2V0R2FzU2NhbGU=
U2V0SGlnaFNwZWVkR2FzU2NhbGU=
U2V0R2FzU2NhbGVTcGVlZFRocmVzaG9sZA==
U2V0U2xpcEdhc1NjYWxl
U2V0QnJha2VTY2FsZQ==
U2V0VG9wU3BlZWRLbWg=
U2V0TWF4V2hlZWxUdXJuQW5nbGU=
U2V0SGlnaFNwZWVkU3RlZXJpbmdEcm9w
U2V0VGlyZUdyaXA=
U2V0Tm9ybWFsU3RlZXJpbmc=
U2V0U2xpcFN0ZWVyaW5n
U2V0RUJyYWtlRWZmZWN0
U2V0Q01PZmZzZXRY
U2V0Q01PZmZzZXRZ
U2V0Q01PZmZzZXRa
U2V0U3VzcGVuc2lvbkxpbWl0
U2V0U3ByaW5nSw==
U2V0RGFtcGVyQw==
U2V0U3VzcGVuc2lvbllPZmZzZXQ=
U2V0SGl0UG9pbnRz
U2V0QnVybm91dFJhbmdl
U2V0TWF4U3BlZWRCdXJzdFRpbWU=
U2V0RG9udXRUb3JxdWU=
U2V0U2xpcFN0ZWVyaW5nTm9FQnJha2U=
U2V0U2xpcEVmZmVjdE5vRUJyYWtl
U2V0V2VlYmxlT2Zmc2V0
U2V0V2hlZWxpZVJhbmdl
U2V0V2hlZWxpZU9mZnNldFk=
U2V0V2hlZWxpZU9mZnNldFo=
U2V0U2hhZG93QWRqdXN0bWVudHM=
U2V0U2hpbmluZXNz
U2V0RHJpdmVy
U2V0R2FtYmxpbmdPZGRz
U2V0SGFzRG9vcnM=
U2V0Q2hhcmFjdGVyc1Zpc2libGU=
U2V0SXJpc1RyYW5zaXRpb24=
U2V0QWxsb3dTZWF0U2xpZGU=
U2V0SGlnaFJvb2Y=
U2V0Q2hhcmFjdGVyU2NhbGU=
U3VwcHJlc3NEcml2ZXI=
SW5pdExldmVsUGxheWVyVmVoaWNsZQ==
UGxhY2VQbGF5ZXJDYXI=
QWRkUHVyY2hhc2VDYXJSZXdhcmQ=
U2V0UG9zdExldmVsRk1W
Q3JlYXRlUGVkR3JvdXA=
QWRkUGVk
Q2xvc2VQZWRHcm91cA==
VXNlUGVkR3JvdXA=
QmluZFJld2FyZA==
Q3JlYXRlVHJhZmZpY0dyb3Vw
QWRkVHJhZmZpY01vZGVs
Q2xvc2VUcmFmZmljR3JvdXA=
U2V0Q2FyQXR0cmlidXRlcw==
U2V0VG90YWxHYWdz
U2V0VG90YWxXYXNwcw==
QWRkR2xvYmFsUHJvcA==
Q3JlYXRlQ2hhc2VNYW5hZ2Vy
RGlzYWJsZUhpdEFuZFJ1bg==
RW5hYmxlSGl0QW5kUnVu
U2V0SGl0QW5kUnVuTWV0ZXI=
U2V0TnVtQ2hhc2VDYXJz
U2V0Q2hhc2VTcGF3blJhdGU=
S2lsbEFsbENoYXNlQUk=
UmVzZXRIaXRBbmRSdW4=
U2V0SGl0QW5kUnVuRGVjYXk=
U2V0SGl0QW5kUnVuRGVjYXlJbnRlcmlvcg==
QWRkTWlzc2lvbg==
QWRkQm9udXNNaXNzaW9u
U2V0TWlzc2lvbk5hbWVJbmRleA==
U2VsZWN0TWlzc2lvbg==
U2V0TWlzc2lvblJlc2V0UGxheWVySW5DYXI=
U2V0TWlzc2lvblJlc2V0UGxheWVyT3V0Q2Fy
U2V0RHluYUxvYWREYXRh
QWRkQm9udXNPYmplY3RpdmU=
U2V0Rm9yY2VkQ2Fy
Q2xvc2VNaXNzaW9u
U2V0RGVtb0xvb3BUaW1l
U3RyZWV0UmFjZVByb3BzTG9hZA==
U3RyZWV0UmFjZVByb3BzVW5sb2Fk
VXNlRWxhcHNlZFRpbWU=
QXR0YWNoU3RhdGVQcm9wQ29sbGVjdGlibGU=
U2hvd0hVRA==
U2V0TnVtVmFsaWRGYWlsdXJlSGludHM=
QWRkU3RhZ2U=
U2V0U3RhZ2VNZXNzYWdlSW5kZXg=
U2V0U3RhZ2VUaW1l
QWRkU3RhZ2VUaW1l
QWRkU3RhZ2VWZWhpY2xl
TW92ZVN0YWdlVmVoaWNsZQ==
QWN0aXZhdGVWZWhpY2xl
QWRkU3RhZ2VXYXlwb2ludA==
QWRkU3RhZ2VDaGFyYWN0ZXI=
QWRkU3RhZ2VNdXNpY0NoYW5nZQ==
U2V0U3RhZ2VNdXNpY0Fsd2F5c09u
U2V0Q29tcGxldGlvbkRpYWxvZw==
U3RhZ2VTdGFydE11c2ljRXZlbnQ=
U2V0TXVzaWNTdGF0ZQ==
U2V0U3RhZ2VDYW1lcmE=
UkVTRVRfVE9fSEVSRQ==
U2V0TWF4VHJhZmZpYw==
QWRkU2FmZVpvbmU=
U2V0Qm9udXNNaXNzaW9uU3RhcnQ=
U2hvd1N0YWdlQ29tcGxldGU=
U2V0SFVESWNvbg==
U2V0SXJpc1dpcGU=
U2V0RmFkZU91dA==
Q2xvc2VTdGFnZQ==
U2V0VmVoaWNsZUFJUGFyYW1z
UGxhY2VQbGF5ZXJBdExvY2F0b3JOYW1l
bXNQbGFjZVBsYXllckNhckF0TG9jYXRvck5hbWU=
U3dhcEluRGVmYXVsdENhcg==
U2V0U3dhcFBsYXllckxvY2F0b3I=
U2V0U3dhcERlZmF1bHRDYXJMb2NhdG9y
U2V0U3dhcEZvcmNlZENhckxvY2F0b3I=
Tm9UcmFmZmljRm9yU3RhZ2U=
Q2xlYXJUcmFmZmljRm9yU3RhZ2U=
U2V0U3RhZ2VBSVJhY2VDYXRjaHVwUGFyYW1z
U2V0U3RhZ2VBSUV2YWRlQ2F0Y2h1cFBhcmFtcw==
U2V0U3RhZ2VBSVRhcmdldENhdGNodXBQYXJhbXM=
U2V0Q2hhcmFjdGVyVG9IaWRl
U2V0TGV2ZWxPdmVy
U2V0R2FtZU92ZXI=
U3RheUluQmxhY2s=
QWxsb3dNaXNzaW9uQWJvcnQ=
U2V0UGFyVGltZQ==
U2V0UmFjZUVudGVyeUZlZQ==
UHV0TUZQbGF5ZXJJbkNhcg==
U2V0U3RhdGVwcm9wU2hhZG93
QWRkT2JqZWN0aXZl
Q2xvc2VPYmplY3RpdmU=
U2V0RGVzdGluYXRpb24=
QWRkTlBD
UmVtb3ZlTlBD
QWRkRHJpdmVy
UmVtb3ZlRHJpdmVy
U2V0VGFsa1RvVGFyZ2V0
U2V0RGlhbG9ndWVJbmZv
U2V0RGlhbG9ndWVQb3NpdGlvbnM=
U2V0UmFjZUxhcHM=
VHVybkdvdG9EaWFsb2dPZmY=
TXVzdEFjdGlvblRyaWdnZXI=
U2V0Q29pbkZlZQ==
U2V0RHVyYXRpb25UaW1l
QWRkQ29sbGVjdGlibGU=
U2V0Q29sbGVjdGlibGVFZmZlY3Q=
QmluZENvbGxlY3RpYmxlVG8=
QWxsb3dVc2VyRHVtcA==
U2V0VmVoaWNsZVRvTG9hZA==
U2V0T2JqVGFyZ2V0VmVoaWNsZQ==
U2V0T2JqRGlzdGFuY2U=
U2V0T2JqVGFyZ2V0Qm9zcw==
QWRkQ29sbGVjdGlibGVTdGF0ZVByb3A=
U2V0UGlja3VwVGFyZ2V0
QWxsb3dSb2NrT3V0
QWRkQ29uZGl0aW9u
Q2xvc2VDb25kaXRpb24=
U2V0Rm9sbG93RGlzdGFuY2Vz
U2V0Q29uZFRhcmdldFZlaGljbGU=
U2V0Q29uZGl0aW9uUG9zaXRpb24=
U2V0Q29uZFRpbWU=
U2V0SGl0TlJ1bg==
RW5hYmxlVHV0b3JpYWxNb2Rl
U2V0Q29udmVyc2F0aW9uQ2FtTmFtZQ==
U2V0Q29udmVyc2F0aW9uQ2FtUGNOYW1l
U2V0Q29udmVyc2F0aW9uQ2FtTnBjTmFtZQ==
U2V0Q29udmVyc2F0aW9uQ2Ft
U2V0Q29udmVyc2F0aW9uQ2FtRGlzdGFuY2U=
QW1iaWVudEFuaW1hdGlvblJhbmRvbWl6ZQ==
Q2xlYXJBbWJpZW50QW5pbWF0aW9ucw==
QWRkQW1iaWVudFBjQW5pbWF0aW9u
QWRkQW1iaWVudE5wY0FuaW1hdGlvbg==
Q2hhcmFjdGVySXNDaGlsZA==
U2V0UHJlc2VudGF0aW9uQml0bWFw
U2V0QW5pbUNhbU11bHRpY29udE5hbWU=
U2V0QW5pbWF0ZWRDYW1lcmFOYW1l
U2V0TWlzc2lvblN0YXJ0TXVsdGljb250TmFtZQ==
U2V0TWlzc2lvblN0YXJ0Q2FtZXJhTmFtZQ==
U2V0Q2FtQmVzdFNpZGU=
U2V0Rk1WSW5mbw==
U3RhcnRDb3VudGRvd24=
QWRkVG9Db3VudGRvd25TZXF1ZW5jZQ==
U2V0Q2FyU3RhcnRDYW1lcmE=
R29Ub1BzU2NyZWVuV2hlbkRvbmU=
U2V0UGxheWVyQ2FyTmFtZQ==
U2V0Q29uZE1pbkhlYWx0aA==
TG9hZFAzREZpbGU=
TG9hZERpc3Bvc2FibGVDYXI=
U2V0UmVzcGF3blJhdGU=
QWRkQ2hhcmFjdGVy
QWRkTlBDQ2hhcmFjdGVyQm9udXNNaXNzaW9u
U2V0Qm9udXNNaXNzaW9uRGlhbG9ndWVQb3M=
QWRkQW1iaWVudENoYXJhY3Rlcg==
QWRkQm9udXNNaXNzaW9uTlBDV2F5cG9pbnQ=
QWRkT2JqZWN0aXZlTlBDV2F5cG9pbnQ=
QWRkQW1iaWVudE5QQ1dheXBvaW50
QWRkUHVyY2hhc2VDYXJOUENXYXlwb2ludA==
QWN0aXZhdGVUcmlnZ2Vy
RGVhY3RpdmF0ZVRyaWdnZXI=
Q3JlYXRlQW5pbVBoeXNPYmplY3Q=
Q3JlYXRlQWN0aW9uRXZlbnRUcmlnZ2Vy
TGlua0FjdGlvblRvT2JqZWN0Sm9pbnQ=
TGlua0FjdGlvblRvT2JqZWN0
U2V0Q29pbkRyYXdhYmxl
U2V0UGFydGljbGVUZXh0dXJl
U2V0Q2hhcmFjdGVyUG9zaXRpb24=
UmVzZXRDaGFyYWN0ZXI=
QWRkVGVsZXBvcnREZXN0
U2V0SW5pdGlhbFdhbGs=
QWRkVmVoaWNsZVNlbGVjdEluZm8=
Q2xlYXJWZWhpY2xlU2VsZWN0SW5mbw==
QWRkRmx5aW5nQWN0b3I=
QWRkRmx5aW5nQWN0b3JCeUxvY2F0b3I=
QWRkQmVoYXZpb3Vy
U2V0Q29sbGlzaW9uQXR0cmlidXRlcw==
QWRkU3Bhd25Qb2ludA==
QWRkU3Bhd25Qb2ludEJ5TG9jYXRvclNjcmlwdA==
U2V0UHJvamVjdGlsZVN0YXRz
UHJlYWxsb2NhdGVBY3RvcnM=
U2V0QWN0b3JSb3RhdGlvblNwZWVk
QWRkU2hpZWxk
Q2xlYXJHYWdCaW5kaW5ncw==
QWRkR2FnQmluZGluZw==
R2FnQmVnaW4=
R2FnU2V0SW50ZXJpb3I=
R2FnU2V0Q3ljbGU=
R2FnU2V0V2VpZ2h0
R2FnU2V0U291bmQ=
R2FnU2V0VHJpZ2dlcg==
R2FnUGxheUZNVg==
R2FnU2V0UG9zaXRpb24=
R2FnU2V0UmFuZG9t
R2FnU2V0SW50cm8=
R2FnU2V0T3V0cm8=
R2FnU2V0Q2FtZXJhU2hha2U=
R2FnU2V0Q29pbnM=
R2FnU2V0U3BhcmtsZQ==
R2FnU2V0QW5pbUNvbGxpc2lvbg==
R2FnRW5k
R2FnU2V0TG9hZERpc3RhbmNlcw==
R2FnU2V0U291bmRMb2FkRGlzdGFuY2Vz
R2FnU2V0UGVyc2lzdA==
R2FnQ2hlY2tDb2xsQ2FyZHM=
R2FnQ2hlY2tNb3ZpZQ==
QWRkVmVoaWNsZUNoYXJhY3Rlcg==
QWRkVmVoaWNsZUNoYXJhY3RlclN1cHByZXNzaW9uQ2hhcmFjdGVy
U2V0Q29uZGl0aW9uYWxQYXJhbWV0ZXI=
U2V0VmVoaWNsZUNoYXJhY3RlckFuaW1hdGlvbg==
U2V0VmVoaWNsZUNoYXJhY3Rlckp1bXBPdXQ=
U2V0VmVoaWNsZUNoYXJhY3RlclNjYWxl
U2V0VmVoaWNsZUNoYXJhY3RlclZpc2libGU=
U2V0Q2FyQ2hhbmdlSGl0QW5kUnVuQ2hhbmdl
U2V0SGl0QW5kUnVuRGVjYXlIaXRBbmRSdW4=
U2V0SGl0QW5kUnVuRmluZQ==
QWRkUGFya2VkQ2Fy
U2V0SFVETWFwRHJhd2FibGU=
U2V0UGFya2VkQ2Fyc0VuYWJsZWQ=
U2V0UGVkc0VuYWJsZWQ=
VXNlVHJhZmZpY0dyb3Vw
QWRkU3RhZ2VWZWhpY2xlQ2hhcmFjdGVy
RGlzYWJsZVRyaWdnZXI=
UmVtb3ZlU3RhZ2VWZWhpY2xlQ2hhcmFjdGVy
UmVzZXRTdGFnZUhpdEFuZFJ1bg==
U2V0Tm9IaXRBbmRSdW5NdXNpY0ZvclN0YWdl
U2V0U3RhZ2VBbGxvd01pc3Npb25DYW5jZWw=
U2V0U3RhZ2VDYXJDaGFuZ2VIaXRBbmRSdW5DaGFuZ2U=
U2V0U3RhZ2VDaGFyYWN0ZXJNb2RlbA==
U2V0U3RhZ2VIaXRBbmRSdW4=
U2V0U3RhZ2VIaXRBbmRSdW5EZWNheQ==
U2V0U3RhZ2VIaXRBbmRSdW5EZWNheUhpdEFuZFJ1bg==
U2V0U3RhZ2VIaXRBbmRSdW5EZWNheUludGVyaW9y
U2V0U3RhZ2VIaXRBbmRSdW5GaW5l
U2V0U3RhZ2VOdW1DaGFzZUNhcnM=
U2V0U3RhZ2VQYXlvdXQ=
U2V0U3RhZ2VWZWhpY2xlQWxsb3dTZWF0U2xpZGU=
U2V0U3RhZ2VWZWhpY2xlQ2hhcmFjdGVyQW5pbWF0aW9u
U2V0U3RhZ2VWZWhpY2xlQ2hhcmFjdGVySnVtcE91dA==
U2V0U3RhZ2VWZWhpY2xlQ2hhcmFjdGVyU2NhbGU=
U2V0U3RhZ2VWZWhpY2xlQ2hhcmFjdGVyVmlzaWJsZQ==
U2V0U3RhZ2VWZWhpY2xlTm9EZXN0cm95ZWRKdW1wT3V0
U2V0U3RhZ2VWZWhpY2xlUmVzZXQ=
QWRkT2JqVGFyZ2V0TW9kZWw=
U2V0Q29sbGVjdGlibGVTb3VuZEVmZmVjdA==
U2V0T2JqQ2FtZXJhTmFtZQ==
U2V0T2JqTXVsdGljb250TmFtZQ==
U2V0T2JqQ2FuU2tpcA==
U2V0T2JqRGVjYXk=
U2V0T2JqRXhwbG9zaW9u
U2V0T2JqTWVzc2FnZUluZGV4
U2V0T2JqTm9MZXR0ZXJib3g=
U2V0T2JqU291bmQ=
U2V0T2JqU3BlZWRLTUg=
U2V0T2JqVGhyZXNob2xk
U2V0T2JqVG90YWw=
U2V0T2JqVHJpZ2dlcg==
U2V0T2JqVXNlQ2FtZXJhUG9zaXRpb24=
QWRkQ29uZFRhcmdldE1vZGVs
U2V0Q29uZERlY2F5
U2V0Q29uZERlbGF5
U2V0Q29uZERpc3BsYXk=
U2V0Q29uZE1lc3NhZ2VJbmRleA==
U2V0Q29uZFNvdW5k
U2V0Q29uZFNwZWVkUmFuZ2VLTUg=
U2V0Q29uZFRocmVzaG9sZA==
U2V0Q29uZFRvdGFs
U2V0Q29uZFRyaWdnZXI=";
        string asfcommands = "";
    }
}
